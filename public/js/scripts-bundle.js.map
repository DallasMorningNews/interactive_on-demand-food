{"version":3,"sources":["+custom.js"],"names":["$","document","ready","checkAnswer","thisObj","toggleClass","parent","hasClass","siblings","removeClass","updateServices","validateInput","isNaN","val","addClass","attr","length","checkZips","parseInt","each","services","k","v","service_area","runScores","user","fee","userZip","inArray","zips","score","instant","subscription","groceries","i","customer","id","children","css","question","closest","find","index","this","push","text","alert","changeQuestion","direction","questionNumber","questionLength","findAreaMatch","eq","areaMatch","findBestMatch","topScore","bestMatch","displayServices","data","remove","console","log","serviceTop","offset","top","animate","scrollTop","d3","select","selectAll","enter","append","d","name","content","details","html","copy","description","schedule","common_orders","other_services","periphs","fees","typical_meal","time","instant_delivery","c","disclaimer","setCardHeights","h","height","outerHeight","clearQuiz","questionsTop","Date","year","getFullYear","favorite","click","keyup","blur","on","keypress","e","which"],"mappings":"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","file":"scripts-bundle.js","sourcesContent":["$(document).ready(function() {\n\n\t//custom scripting goes here\n\n\t// injecting current year into footer\n\t// DO NOT DELETE\n\n\tvar d = new Date();\n\tvar year = d.getFullYear();\n\n\t$('.copyright').text(year);\n\n\n\t// some code blocks require javascript to function, like slideshows, synopsis blocks, etc\n\t// you can find that code here: https://github.com/DallasMorningNews/generator-dmninteractives/wiki/Cookbook\n\n\n\tvar services = [\n\t\t{\n\t\t\t\"id\": \"uber\",\n\t\t\t\"name\": \"Uber Eats\",\n\t\t\t\"zips\": [75202, 75201, 75226, 75204, 75207, 75219, 75230, 75214, 75206],\n\t\t\t\"instant\": true,\n\t\t\t\"subscription\": false,\n\t\t\t\"groceries\": false,\n\t\t\t\"fee\": [2.99, 3.99],\n\t\t\t\"favorite\": \"\",\n\t\t\t\"customer\": [\"Flexible\", \"Hungry\"],\n\t\t\t\"score\": 0,\n\t\t\t\"service_area\": true,\n\t\t\t\"copy\": {\n\t\t\t\t\"description\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis. \",\n\t\t\t\t\"schedule\": \"—\",\n\t\t\t\t\"common_orders\": \"—\",\n\t\t\t\t\"other_services\": \"No\",\n\t\t\t\t\"fees\": \"$2.99 to $3.99\",\n\t\t\t\t\"typical_meal\": \"$8 to $12*\",\n\t\t\t\t\"time\": \"—\",\n\t\t\t\t\"instant_delivery\": \"Yes\",\n\t\t\t\t\"subscription\": \"No\",\n\t\t\t\t\"disclaimer\": \"*Instant meals range from $8 to $12.\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"id\": \"caviar\",\n\t\t\t\"name\": \"Caviar\",\n\t\t\t\"zips\": [75229],\n\t\t\t\"instant\": false,\n\t\t\t\"subscription\": true,\n\t\t\t\"groceries\": false,\n\t\t\t\"fee\": [0, 4.99],\n\t\t\t\"favorite\": [\"Pizza\", \"Ramen\"],\n\t\t\t\"customer\": [\"Foodie\"],\n\t\t\t\"score\": 0,\n\t\t\t\"service_area\": true,\n\t\t\t\"copy\": {\n\t\t\t\t\"description\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.\",\n\t\t\t\t\"schedule\": \"Everyday, 9 a.m. to 9 p.m.\",\n\t\t\t\t\"common_orders\": \"Neopolitan pizza from Cane Rosso; Ramen from Monkey King Noodle Co.; Comfort food from Dallas Grilled Cheese, and Hot dogs from Luscher's Red Hots\",\n\t\t\t\t\"other_services\": \"No\",\n\t\t\t\t\"fees\": \"$0 to $4.99*\",\n\t\t\t\t\"typical_meal\": \"—\",\n\t\t\t\t\"time\": \"25 - 40 minutes\",\n\t\t\t\t\"instant_delivery\": \"No\",\n\t\t\t\t\"subscription\": \"No\",\n\t\t\t\t\"disclaimer\": \"*Price is dependent on distant from the restaurant\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"id\": \"grubhub\",\n\t\t\t\"name\": \"GrubHub\",\n\t\t\t\"zips\": [ 75201, 75202, 75203, 75204, 75205, 75206, 75207, 75208, 75209, 75210, 75212, 75214, 75215, 75218, 75219, 75220, 75223, 75225, 75226, 75227, 75228, 75229, 75230, 75231, 75234, 75235, 75238, 75240, 75243, 75244, 75246, 75247, 75248, 75251, 75252, 75254, 75261, 75287],\n\t\t\t\"instant\": false,\n\t\t\t\"subscription\": true,\n\t\t\t\"groceries\": false,\n\t\t\t\"fee\": [2.99, 2.99],\n\t\t\t\"favorite\": [\"Tex-Mex\"],\n\t\t\t\"customer\": [\"Flexible\"],\n\t\t\t\"score\": 0,\n\t\t\t\"service_area\": true,\n\t\t\t\"copy\": {\n\t\t\t\t\"description\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.\",\n\t\t\t\t\"schedule\": \"Restaurants choose their hours of operation and delivery\",\n\t\t\t\t\"common_orders\": \"Tex-Mex and Southwest food, especially food from Primo's Tex-Mex\",\n\t\t\t\t\"other_services\": \"No\",\n\t\t\t\t\"fees\": \"—\",\n\t\t\t\t\"typical_meal\": \"About $30\",\n\t\t\t\t\"time\": \"About 40 minutes\",\n\t\t\t\t\"instant_delivery\": \"No\",\n\t\t\t\t\"subscription\": \"No\",\n\t\t\t\t\"disclaimer\": \"\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"id\":  \"postmates\",\n\t\t\t\"name\": \"Postmates\",\n\t\t\t\"zips\": [75228],\n\t\t\t\"instant\": false,\n\t\t\t\"subscription\": false,\n\t\t\t\"groceries\": false,\n\t\t\t\"fee\": [0, 5.00],\n\t\t\t\"favorite\": [\"Fast Food\"],\n\t\t\t\"customer\": [\"On-demand\"],\n\t\t\t\"score\": 0,\n\t\t\t\"service_area\": true,\n\t\t\t\"copy\": {\n\t\t\t\t\"description\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.\",\n\t\t\t\t\"schedule\": \"All day, every day\",\n\t\t\t\t\"common_orders\": \"Mexican food, Orders from Chipotle, Whataburger and Raising Cane’s Chicken Fingers\",\n\t\t\t\t\"other_services\": \"Yes\",\n\t\t\t\t\"fees\": \"$3.99 and up*\",\n\t\t\t\t\"typical_meal\": \"About $25\",\n\t\t\t\t\"time\": \"About 30 minutes\",\n\t\t\t\t\"instant_delivery\": \"No\",\n\t\t\t\t\"subscription\": \"Yes\",\n\t\t\t\t\"disclaimer\": \"*$3.99 for Plus Merchants, $6 and up depending on distance\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"id\": \"favor\",\n\t\t\t\"name\": \"Favor\",\n\t\t\t\"zips\": [75201, 75202, 75204, 75205, 75206, 75246, 75219, 75226, 75225, 75214, 75209, 75235, 75207, 75208, 75230],\n\t\t\t\"instant\": false,\n\t\t\t\"subscription\": true,\n\t\t\t\"groceries\": true,\n\t\t\t\"fee\": [7, 7],\n\t\t\t\"favorite\": [\"Tacos\", \"Sushi\", \"Fast Food\"],\n\t\t\t\"customer\": [\"Hungry\", \"Shopper\"],\n\t\t\t\"score\": 0,\n\t\t\t\"service_area\": true,\n\t\t\t\"copy\": {\n\t\t\t\t\"description\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.\",\n\t\t\t\t\"schedule\": \"\",\n\t\t\t\t\"common_orders\": \"Tacos, sushi and fast-food; Tacos at Velvet Taco and sandwiches from East Hampton\",\n\t\t\t\t\"other_services\": \"Yes\",\n\t\t\t\t\"fees\": \"$5\",\n\t\t\t\t\"typical_meal\": \"About $30\",\n\t\t\t\t\"time\": \"About 35 minutes\",\n\t\t\t\t\"instant_delivery\": \"No\",\n\t\t\t\t\"subscription\": \"No\",\n\t\t\t\t\"disclaimer\": \"\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"id\": \"amazon\",\n\t\t\t\"name\": \"Amazon Prime Now\",\n\t\t\t\"zips\": [75230],\n\t\t\t\"instant\": true,\n\t\t\t\"subscription\": true,\n\t\t\t\"groceries\": true,\n\t\t\t\"fee\": [8.99, 8.99],\n\t\t\t\"favorite\": [\"\"],\n\t\t\t\"customer\": [\"Hungry\"],\n\t\t\t\"score\": 0,\n\t\t\t\"service_area\": true,\n\t\t\t\"copy\": {\n\t\t\t\t\"description\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.\",\n\t\t\t\t\"schedule\": \"Every day, 8 a.m. to 10 p.m.\",\n\t\t\t\t\"common_orders\": \"Groceries such as water, eggs and orange juice\",\n\t\t\t\t\"other_services\": \"Yes — including groceries from Sprouts.\",\n\t\t\t\t\"fees\": \"$0, $7.99*\",\n\t\t\t\t\"typical_meal\": \"—\",\n\t\t\t\t\"time\": \"—\",\n\t\t\t\t\"instant_delivery\": \"No\",\n\t\t\t\t\"subscription\": \"Yes\",\n\t\t\t\t\"disclaimer\": \"* One-hour delivery is $7.99\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"id\": \"doordash\",\n\t\t\t\"name\": \"DoorDash\",\n\t\t\t\"zips\": [75228],\n\t\t\t\"instant\": false,\n\t\t\t\"subscription\": false,\n\t\t\t\"groceries\": false,\n\t\t\t\"fee\": [1.99, 6.99],\n\t\t\t\"favorite\": [\"Mexican\"],\n\t\t\t\"customer\": [\"\"],\n\t\t\t\"score\": 0,\n\t\t\t\"service_area\": true,\n\t\t\t\"copy\": {\n\t\t\t\t\"description\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.\",\n\t\t\t\t\"schedule\": \"11 a.m. to 10 p.m. in Dallas area, select areas 7 a.m to 1 a.m.\",\n\t\t\t\t\"common_orders\": \"Mexican food, Pad Thai, Velvet Taco\",\n\t\t\t\t\"other_services\": \"No\",\n\t\t\t\t\"fees\": \"$1.99 to $6.99\",\n\t\t\t\t\"typical_meal\": \"More than $30\",\n\t\t\t\t\"time\": \"30 to 40 minutes\",\n\t\t\t\t\"instant_delivery\": \"No\",\n\t\t\t\t\"subscription\": \"No\",\n\t\t\t\t\"disclaimer\": \"\"\n\t\t\t}\n\t\t}\n\t];\n\n\n\tvar user = {\n\t\t\"instant\": \"\",\n\t\t\"groceries\": \"\",\n\t\t\"subscription\": \"\",\n\t\t\"customer\": [],\n\t\t\"fee\": 10000\n\t};\n\n\t////////////////////////////////////////////////////\n\t///// CHECKING ANSWERS /////////////////////////////\n\t////////////////////////////////////////////////////\n\n\t// toggling the check class on answer\n\n\t$(\".answerBlock span\").click(function() {\n\t\tcheckAnswer($(this));\n\t});\n\n\tfunction checkAnswer(thisObj) {\n\n\t\t// toggle the unchecked and checked classes on the option clicked\n\t\tthisObj.toggleClass(\"unchecked\").toggleClass(\"checked\");\n\n\t\t// if this is a boolean question (yes/no), remove the checked class\n\t\t// from the other option if the other option has the checked class\n\t\tif (thisObj.parent().hasClass(\"boolean\")) {\n\t\t\tthisObj.siblings().removeClass(\"checked\");\n\t\t}\n\n\t\tupdateServices(thisObj);\n\t}\n\n\n\n\t////////////////////////////////////////////////////\n\t///// VALIDATING INPUT FIELDS //////////////////////\n\t////////////////////////////////////////////////////\n\n\t// checking the values on the zip and fee inputs and making sure they\n\t// match our requirements (are numbers, 5 digit zip codes)\n\n\t$(\"#zip\").keyup(function() {\n\t\tvalidateInput($(this));\n\t});\n\n\t$(\"#feeInput\").blur(function() {\n\t\tvalidateInput($(this));\n\t\tupdateServices($(this));\n\t});\n\n\n\tfunction validateInput(thisObj) {\n\n\t\t// first check if the value is a number, if it is, show the valid label\n\t\tif (isNaN(thisObj.val()) === true) {\n\t\t\tthisObj.siblings(\".invalid\").removeClass(\"noShow\");\n\t\t\tthisObj.siblings(\".valid\").addClass(\"noShow\");\n\t\t}\n\t\t// if the value is not a number, show the invalid label\n\t\telse {\n\t\t\tthisObj.siblings(\".invalid\").addClass(\"noShow\");\n\t\t\tthisObj.siblings(\".valid\").removeClass(\"noShow\");\n\t\t}\n\n\t\t// then check if the input is the zip input and the length is not 5\n\t\t// if it is, show the invalid label\n\t\tif (thisObj.attr(\"id\") === \"zip\" && thisObj.val().length !== 5) {\n\t\t\tthisObj.siblings(\".invalid\").removeClass(\"noShow\");\n\t\t\tthisObj.siblings(\".valid\").addClass(\"noShow\");\n\t\t}\n\t\t// if it is the zip input and the length is equal to 5, show the valid label\n\t\telse if (thisObj.attr(\"id\") === \"zip\" && thisObj.val().length === 5) {\n\t\t\tthisObj.siblings(\".invalid\").addClass(\"noShow\");\n\t\t\tthisObj.siblings(\".valid\").removeClass(\"noShow\");\n\n\t\t\t// if we have a valid zip, pass the value off to the checkZips function\n\t\t\tcheckZips(parseInt(thisObj.val()));\n\t\t}\n\n\t\t// lastly, check if the field is empty\n\t\tif (thisObj.val() === \"\") {\n\n\t\t\t// if the field is empty, remove both valid and invalid flags\n\t\t\tthisObj.siblings(\".validator\").addClass(\"noShow\");\n\n\t\t\t// if it is the zip field that is empty, set the service area value\n\t\t\t// for every service to true, and rerun the scores\n\t\t\tif (thisObj.attr(\"id\") === \"zip\") {\n\t\t\t\t$.each(services, function(k,v) {\n\t\t\t\t\tv.service_area = true;\n\t\t\t\t\trunScores();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if it is the fee field that is empty, set the user.fee key to 10000\n\t\t\t// insuring it won't be lower than any fee, then updateServices\n\t\t\tif (thisObj.attr(\"id\") === \"feeInput\") {\n\t\t\t\tuser.fee = 10000;\n\t\t\t\tupdateServices(thisObj);\n\t\t\t}\n\t\t}\n\n\t}\n\n\n\t////////////////////////////////////////////////////\n\t///// CHECKING THE ZIPS FOR SERVICE AREA ///////////\n\t////////////////////////////////////////////////////\n\n\tfunction checkZips(userZip) {\n\n\t\t// check each service in the services array and see if its zip array contains\n\t\t// the user's zip. if it does, set the service area of the service to true\n\t\t// if it doesn't, set it to false, then run the scores\n\t\t$.each(services, function(k,v) {\n\t\t\tif ($.inArray(userZip, v.zips) === -1) {\n\t\t\t\tv.service_area = false;\n\t\t\t} else {\n\t\t\t\tv.service_area = true;\n\t\t\t}\n\t\t});\n\n\t\trunScores();\n\t}\n\n\n\t////////////////////////////////////////////////////\n\t///// RUNNING SCORES, UPDATING SERVICES ////////////\n\t////////////////////////////////////////////////////\n\n\n\t// updating the score for each service\n\tfunction runScores() {\n\t\t// for each service, set a score variable to 0\n\t\t$.each(services, function(k,v) {\n\t\t\tvar score = 0;\n\n\t\t\t// if the service's service_area is false, fade that service back and\n\t\t\t// set it's highlight div's width to 0\n\t\t\t// else, fade that service back in\n\n\t\t\t// if (v.service_area === false) {\n\t\t\t// \t$(\"#\" + v.id).addClass(\"noService\");\n\t\t\t// \t$(\"#\" + v.id).children(\".highlight\").css(\"width\", 0);\n\t\t\t// } else {\n\t\t\t// \t$(\"#\" + v.id).removeClass(\"noService\");\n\t\t\t// }\n\n\t\t\t// check the other user keys against the services and adjusts the scores\n\t\t\tif (v.instant === user.instant) {\n\t\t\t\tscore++;\n\t\t\t}\n\t\t\tif (v.subscription === user.subscription) {\n\t\t\t\tscore++;\n\t\t\t}\n\t\t\tif (v.groceries === user.groceries) {\n\t\t\t\tscore++;\n\t\t\t}\n\t\t\tif (v.fee[1] > user.fee) {\n\t\t\t\tscore++;\n\t\t\t}\n\t\t\tfor (i=0; i < v.customer.length; i++) {\n\t\t\t\tif ($.inArray(v.customer[i], user.customer) > -1) {\n\t\t\t\t\tscore++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update the score on each service\n\t\t\tv.score = score;\n\n\t\t\t// update the highlight div on the each service only if the div\n\t\t\t// does not have the \"noService\" class\n\t\t\tif ($(\"#\" + v.id).hasClass(\"noService\") === false) {\n\t\t\t\t$(\"#\" + v.id).children(\".highlight\").css(\"width\", ((v.score * 20) + \"%\"));\n\t\t\t}\n\t\t});\n\t}\n\n\n\t// checking what questions were answered and updating the user object based on that\n\tfunction updateServices(thisObj) {\n\n\t\t// grabbing the id of the question that was answered\n\t\tvar question = thisObj.closest(\".question\").attr(\"id\");\n\n\t\t// check which question was answered, then update the user object based on that\n\t\tswitch(question) {\n\t\t\tcase \"instant\":\n\t\t\t\tif (thisObj.closest(\".answerBlock\").find(\".checked\").index() === -1) {\n\t\t\t\t\tuser.instant = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tuser.instant = (thisObj.closest(\".answerBlock\").find(\".checked\").attr(\"data-answer\") === \"true\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"groceries\":\n\t\t\t\tif (thisObj.closest(\".answerBlock\").find(\".checked\").index() === -1) {\n\t\t\t\t\tuser.groceries = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tuser.groceries = (thisObj.closest(\".answerBlock\").find(\".checked\").attr(\"data-answer\") === \"true\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"subscription\":\n\t\t\t\tif (thisObj.closest(\".answerBlock\").find(\".checked\").index() === -1) {\n\t\t\t\t\tuser.subscription = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tuser.subscription = (thisObj.closest(\".answerBlock\").find(\".checked\").attr(\"data-answer\") === \"true\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t// if the fee question was answered, check to make sure there is a number and not and empty field\n\t\t\tcase \"fee\":\n\t\t\t\tif (isNaN(thisObj.val()) === false && thisObj.val().length > 0) {\n\t\t\t\t\tuser.fee = thisObj.val();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t// if the customer question was answered, check to see if one of\n\t\t\t// the answers is listed in the services customer array\n\t\t\tcase \"customer\":\n\t\t\t\tuser.customer = [];\n\t\t\t\t$.each($(\"#customer .answerBlock span\"), function() {\n\t\t\t\t\tif ($(this).hasClass(\"checked\") === true) {\n\t\t\t\t\t\tuser.customer.push($(this).text());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\t// let the user know they really broke some shit if they're seeing this\n\t\t\tdefault: alert(\"If you're seeing this message, something horribly wrong has happened.\");\n\t\t}\n\n\t\trunScores();\n\n\t}\n\n\n\n\n\n\n\n\t$(\".viewAll\").click(function() {\n\t\t$(\"#servicesBlock nav button\").addClass(\"noShow\");\n\t\tdisplayServices(services);\n\t});\n\n\n\tvar questionNumber = 0,\n\t\tquestionLength = 6;\n\n\tvar areaMatch = [];\n\tvar bestMatch = [];\n\n\n\t$(\".switcher\").on(\"click\", function() {\n\t\tvar direction = $(this).attr(\"id\");\n\t\tchangeQuestion(direction);\n\t});\n\n\t$(document).keypress(function(e) {\n\t    if(e.which == 13) {\n\t        changeQuestion(\"next\");\n\t    }\n});\n\n\tfunction changeQuestion(direction) {\n\t\tif (direction === \"next\" && questionNumber !== questionLength - 1) {\n\t\t\tquestionNumber++;\n\t\t} else if (direction === \"previous\") {\n\t\t\tquestionNumber--;\n\t\t} else {\n\t\t\tfindAreaMatch();\n\t\t}\n\n\t\tif (questionNumber === 0) {\n\t\t\t$(\"#previous\").addClass(\"noShow\");\n\t\t} else {\n\t\t\t$(\"#previous\").removeClass(\"noShow\");\n\t\t}\n\n\t\t$(\".question\").addClass(\"inactiveQuestion\");\n\n\t\t$(\".question\").eq(questionNumber).removeClass(\"inactiveQuestion\").addClass(\"activeQuestion\");\n\n\t}\n\n\tfunction findAreaMatch() {\n\t\tareaMatch = [];\n\t\t$.each(services, function(k,v) {\n\t\t\tif (v.service_area === true) {\n\t\t\t\tareaMatch.push(v);\n\t\t\t}\n\t\t});\n\n\t\tfindBestMatch();\n\t}\n\n\tfunction findBestMatch() {\n\n\t\tvar topScore = 0;\n\t\tbestMatch = [];\n\t\t$.each(areaMatch, function(k,v) {\n\t\t\tif (v.score > topScore) {\n\t\t\t\ttopScore = v.score;\n\t\t\t}\n\t\t});\n\n\t\t$.each(areaMatch, function(k,v) {\n\t\t\tif (v.score >= topScore) {\n\t\t\t\tbestMatch.push(v);\n\t\t\t}\n\t\t});\n\n\t\t$(\"#services\").removeClass(\"noShow\");\n\t\t$(\"#best\").removeClass(\"noShow\");\n\t\t$(\".retake\").removeClass(\"noShow\");\n\n\t\tdisplayServices(bestMatch);\n\n\t}\n\n\tfunction displayServices(data) {\n\t\t$(\".service\").remove();\n\t\tconsole.log(data);\n\n\n\t\tif (data.length < 7) {\n\t\t\t$(\".viewAll\").removeClass(\"noShow\");\n\t\t}\n\n\t\t$(\"#servicesBlock\").removeClass(\"noShow\");\n\n\t\tvar serviceTop = $(\"#services\").offset().top;\n\t\t$(\"html, body\").animate({\n\t\t\tscrollTop: serviceTop - 50\n\t\t}, 250);\n\n\t\tvar services = d3.select(\"#services\").selectAll(\".service\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append(\"div\")\n\t\t\t.attr(\"class\", \"clearFix service\");\n\n\t\tservices.append(\"img\")\n\t\t\t.attr(\"src\", function(d) {\n\t\t\t\treturn \"images/_\" + d.id +\".png\";\n\t\t\t})\n\t\t\t.attr(\"alt\", function(d) {\n\t\t\t\treturn d.name + \" logo\";\n\t\t\t});\n\n\t\tvar content = services.append(\"div\")\n\t\t\t.attr(\"class\", \"content clearFix\");\n\n\t\tvar details = content.append(\"div\")\n\t\t\t.attr(\"class\", \"details\");\n\n\t\tdetails.append(\"p\")\n\t\t\t.html(function(d) {\n\t\t\t\treturn d.copy.description;\n\t\t\t});\n\n\t\tdetails.append(\"p\")\n\t\t\t.html(function(d) {\n\t\t\t\treturn \"<strong>Schedule: </strong>\" + d.copy.schedule;\n\t\t\t});\n\n\t\tdetails.append(\"p\")\n\t\t\t.html(function(d) {\n\t\t\t\treturn \"<strong>Common orders: </strong>\" + d.copy.common_orders;\n\t\t\t});\n\n\t\tdetails.append(\"p\")\n\t\t\t.html(function(d) {\n\t\t\t\treturn \"<strong>Common orders: </strong>\" + d.copy.other_services;\n\t\t\t});\n\n\n\t\tvar periphs = content.append(\"div\")\n\t\t\t.attr(\"class\", \"periphs\");\n\n\t\tperiphs.append(\"h6\").text(\"Fees\");\n\t\tperiphs.append(\"p\").text(function(d) {\n\t\t\treturn d.copy.fees;\n\t\t});\n\n\t\tperiphs.append(\"h6\").text(\"Typical meal $\");\n\t\tperiphs.append(\"p\").text(function(d){\n\t\t\treturn d.copy.typical_meal;\n\t\t});\n\n\t\tperiphs.append(\"h6\").text(\"Delivery time\");\n\t\tperiphs.append(\"p\").text(function(d) {\n\t\t\treturn d.copy.time;\n\t\t});\n\n\t\tperiphs.append(\"h6\").text(\"Instant delivery\");\n\t\tperiphs.append(\"p\").text(function(d) {\n\t\t\treturn d.copy.instant_delivery;\n\t\t});\n\n\t\tperiphs.append(\"h6\").text(\"Subscription\");\n\t\tperiphs.append(\"p\").text(function(d) {\n\t\t\treturn d.copy.subscription;\n\t\t});\n\n\t\tcontent.append(\"p\").attr(\"class\", \"disclaimer\")\n\t\t\t.text(function(d) {\n\t\t\t\tvar c = \"\";\n\n\t\t\t\tif (d.copy.disclaimer.length > 0) {\n\t\t\t\t\tc = d.copy.disclaimer;\n\t\t\t\t}\n\n\t\t\t\treturn c;\n\n\t\t\t});\n\n\t\tsetCardHeights();\n\n\n\t}\n\n\n\tfunction setCardHeights() {\n\t\tvar h = 0;\n\n\t\tconsole.log($(\"#questions\").height());\n\n\t\t$(\".service\").each(function() {\n\t\t\tconsole.log($(this).outerHeight());\n\t\t\th = h > $(this).outerHeight() ? h : $(this).outerHeight();\n\t\t});\n\n\t\t$(\".service\").css(\"min-height\", h + 30);\n\n\t}\n\n\n\tfunction clearQuiz() {\n\n\t\t//resets all the scores and service areas\n\t\t$.each(services, function(k,v) {\n\t\t\tv.score = 0;\n\t\t\tv.service_area = true;\n\t\t});\n\n\t\t$(\"#servicesBlock\").addClass(\"noShow\");\n\n\t\t// scrolls the window to the questions div\n\t\tvar questionsTop = $(\"#questions\").offset().top;\n\n\t\t$(\"html, body\").animate({\n\t\t\tscrollTop: questionsTop - 50\n\t\t}, 250);\n\n\t\t//resets the question counter to 0, hides the previous button\n\t\tquestionNumber = 0;\n\t\t$(\".question\").addClass(\"inactiveQuestion\");\n\t\t$(\".question\").eq(questionNumber).removeClass(\"inactiveQuestion\").addClass(\"activeQuestion\");\n\t\t$(\"#previous\").addClass(\"noShow\");\n\t\t$(\".validator\").addClass(\"noShow\");\n\n\t\t// clear the input fields\n\t\t$(\"#zip\").val(\"\");\n\t\t$(\"#feeInput\").val(\"\");\n\n\t\t// clear all the checked options\n\t\t$(\".checked\").addClass(\".unchecked\").removeClass(\"checked\");\n\n\t\t// clear the user object\n\t\tuser.instant = \"\";\n\t\tuser.groceries = \"\";\n\t\tuser.subscription = \"\";\n\t\tuser.customer = [];\n\t\tuser.fee = 10000;\n\n\t\tconsole.log(services, user);\n\n\t}\n\n\t$(\".retake\").click(function() {\n\t\tclearQuiz();\n\t});\n\n\n});\n"],"sourceRoot":"/source/"}