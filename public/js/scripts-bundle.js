$(document).ready(function(){function e(e){e.toggleClass("unchecked").toggleClass("checked"),e.parent().hasClass("boolean")&&e.siblings().removeClass("checked"),n(e)}function s(e){isNaN(e.val())===!0?(e.siblings(".invalid").removeClass("noShow"),e.siblings(".valid").addClass("noShow")):(e.siblings(".invalid").addClass("noShow"),e.siblings(".valid").removeClass("noShow")),"zip"===e.attr("id")&&5!==e.val().length?(e.siblings(".invalid").removeClass("noShow"),e.siblings(".valid").addClass("noShow")):"zip"===e.attr("id")&&5===e.val().length&&(e.siblings(".invalid").addClass("noShow"),e.siblings(".valid").removeClass("noShow"),o(parseInt(e.val()))),""===e.val()&&(e.siblings(".validator").addClass("noShow"),"zip"===e.attr("id")&&$.each(h,function(e,s){s.service_area=!0,t()}),"feeInput"===e.attr("id")&&(v.fee=1e4,n(e)))}function o(e){$.each(h,function(s,i){$.inArray(e,i.zips)===-1?i.service_area=!1:i.service_area=!0}),t()}function t(){$.each(h,function(e,s){var o=0;for(s.instant===v.instant&&o++,s.subscription===v.subscription&&o++,s.groceries===v.groceries&&o++,s.fee[1]>v.fee&&o++,i=0;i<s.customer.length;i++)if($.inArray(s.customer[i],v.customer)>-1){o++;break}s.score=o,$("#"+s.id).hasClass("noService")===!1&&$("#"+s.id).children(".highlight").css("width",20*s.score+"%")})}function n(e){var s=e.closest(".question").attr("id");switch(s){case"instant":e.closest(".answerBlock").find(".checked").index()===-1?v.instant="":v.instant="true"===e.closest(".answerBlock").find(".checked").attr("data-answer");break;case"groceries":e.closest(".answerBlock").find(".checked").index()===-1?v.groceries="":v.groceries="true"===e.closest(".answerBlock").find(".checked").attr("data-answer");break;case"subscription":e.closest(".answerBlock").find(".checked").index()===-1?v.subscription="":v.subscription="true"===e.closest(".answerBlock").find(".checked").attr("data-answer");break;case"fee":isNaN(e.val())===!1&&e.val().length>0&&(v.fee=e.val());break;case"customer":v.customer=[],$.each($("#customer .answerBlock span"),function(){$(this).hasClass("checked")===!0&&v.customer.push($(this).text())});break;default:alert("If you're seeing this message, something horribly wrong has happened.")}t()}function r(e){"next"===e&&f!==g-1?f++:"previous"===e?f--:a(),0===f?$("#previous").addClass("noShow"):$("#previous").removeClass("noShow"),$(".question").addClass("inactiveQuestion"),$(".question").eq(f).removeClass("inactiveQuestion").addClass("activeQuestion")}function a(){b=[],$.each(h,function(e,s){s.service_area===!0&&b.push(s)}),c()}function c(){var e=0;y=[],$.each(b,function(s,i){i.score>e&&(e=i.score)}),$.each(b,function(s,i){i.score>=e&&y.push(i)}),$("#services").removeClass("noShow"),$("#best").removeClass("noShow"),$(".retake").removeClass("noShow"),u(y)}function u(e){$(".service").remove(),console.log(e),e.length<7&&$(".viewAll").removeClass("noShow"),$("#servicesBlock").removeClass("noShow");var s=$("#services").offset().top;$("html, body").animate({scrollTop:s-50},250);var i=d3.select("#services").selectAll(".service").data(e).enter().append("div").attr("class","clearFix service");i.append("img").attr("src",function(e){return"images/_"+e.id+".png"}).attr("alt",function(e){return e.name+" logo"});var o=i.append("div").attr("class","content clearFix"),t=o.append("div").attr("class","details");t.append("p").html(function(e){return e.copy.description}),t.append("p").html(function(e){return"<strong>Schedule: </strong>"+e.copy.schedule}),t.append("p").html(function(e){return"<strong>Common orders: </strong>"+e.copy.common_orders}),t.append("p").html(function(e){return"<strong>Common orders: </strong>"+e.copy.other_services});var n=o.append("div").attr("class","periphs");n.append("h6").text("Fees"),n.append("p").text(function(e){return e.copy.fees}),n.append("h6").text("Typical meal $"),n.append("p").text(function(e){return e.copy.typical_meal}),n.append("h6").text("Delivery time"),n.append("p").text(function(e){return e.copy.time}),n.append("h6").text("Instant delivery"),n.append("p").text(function(e){return e.copy.instant_delivery}),n.append("h6").text("Subscription"),n.append("p").text(function(e){return e.copy.subscription}),o.append("p").attr("class","disclaimer").text(function(e){var s="";return e.copy.disclaimer.length>0&&(s=e.copy.disclaimer),s}),l()}function l(){var e=0;console.log($("#questions").height()),$(".service").each(function(){console.log($(this).outerHeight()),e=e>$(this).outerHeight()?e:$(this).outerHeight()}),$(".service").css("min-height",e+30)}function d(){$.each(h,function(e,s){s.score=0,s.service_area=!0}),$("#servicesBlock").addClass("noShow");var e=$("#questions").offset().top;$("html, body").animate({scrollTop:e-50},250),f=0,$(".question").addClass("inactiveQuestion"),$(".question").eq(f).removeClass("inactiveQuestion").addClass("activeQuestion"),$("#previous").addClass("noShow"),$(".validator").addClass("noShow"),$("#zip").val(""),$("#feeInput").val(""),$(".checked").addClass(".unchecked").removeClass("checked"),v.instant="",v.groceries="",v.subscription="",v.customer=[],v.fee=1e4,console.log(h,v)}var m=new Date,p=m.getFullYear();$(".copyright").text(p);var h=[{id:"uber",name:"Uber Eats",zips:[75202,75201,75226,75204,75207,75219,75230,75214,75206],instant:!0,subscription:!1,groceries:!1,fee:[2.99,3.99],favorite:"",customer:["Flexible","Hungry"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis. ",schedule:"—",common_orders:"—",other_services:"No",fees:"$2.99 to $3.99",typical_meal:"$8 to $12*",time:"—",instant_delivery:"Yes",subscription:"No",disclaimer:"*Instant meals range from $8 to $12."}},{id:"caviar",name:"Caviar",zips:[75229],instant:!1,subscription:!0,groceries:!1,fee:[0,4.99],favorite:["Pizza","Ramen"],customer:["Foodie"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",schedule:"Everyday, 9 a.m. to 9 p.m.",common_orders:"Neopolitan pizza from Cane Rosso; Ramen from Monkey King Noodle Co.; Comfort food from Dallas Grilled Cheese, and Hot dogs from Luscher's Red Hots",other_services:"No",fees:"$0 to $4.99*",typical_meal:"—",time:"25 - 40 minutes",instant_delivery:"No",subscription:"No",disclaimer:"*Price is dependent on distant from the restaurant"}},{id:"grubhub",name:"GrubHub",zips:[75201,75202,75203,75204,75205,75206,75207,75208,75209,75210,75212,75214,75215,75218,75219,75220,75223,75225,75226,75227,75228,75229,75230,75231,75234,75235,75238,75240,75243,75244,75246,75247,75248,75251,75252,75254,75261,75287],instant:!1,subscription:!0,groceries:!1,fee:[2.99,2.99],favorite:["Tex-Mex"],customer:["Flexible"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",schedule:"Restaurants choose their hours of operation and delivery",common_orders:"Tex-Mex and Southwest food, especially food from Primo's Tex-Mex",other_services:"No",fees:"—",typical_meal:"About $30",time:"About 40 minutes",instant_delivery:"No",subscription:"No",disclaimer:""}},{id:"postmates",name:"Postmates",zips:[75228],instant:!1,subscription:!1,groceries:!1,fee:[0,5],favorite:["Fast Food"],customer:["On-demand"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",schedule:"All day, every day",common_orders:"Mexican food, Orders from Chipotle, Whataburger and Raising Cane’s Chicken Fingers",other_services:"Yes",fees:"$3.99 and up*",typical_meal:"About $25",time:"About 30 minutes",instant_delivery:"No",subscription:"Yes",disclaimer:"*$3.99 for Plus Merchants, $6 and up depending on distance"}},{id:"favor",name:"Favor",zips:[75201,75202,75204,75205,75206,75246,75219,75226,75225,75214,75209,75235,75207,75208,75230],instant:!1,subscription:!0,groceries:!0,fee:[7,7],favorite:["Tacos","Sushi","Fast Food"],customer:["Hungry","Shopper"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",schedule:"",common_orders:"Tacos, sushi and fast-food; Tacos at Velvet Taco and sandwiches from East Hampton",other_services:"Yes",fees:"$5",typical_meal:"About $30",time:"About 35 minutes",instant_delivery:"No",subscription:"No",disclaimer:""}},{id:"amazon",name:"Amazon Prime Now",zips:[75230],instant:!0,subscription:!0,groceries:!0,fee:[8.99,8.99],favorite:[""],customer:["Hungry"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",schedule:"Every day, 8 a.m. to 10 p.m.",common_orders:"Groceries such as water, eggs and orange juice",other_services:"Yes — including groceries from Sprouts.",fees:"$0, $7.99*",typical_meal:"—",time:"—",instant_delivery:"No",subscription:"Yes",disclaimer:"* One-hour delivery is $7.99"}},{id:"doordash",name:"DoorDash",zips:[75228],instant:!1,subscription:!1,groceries:!1,fee:[1.99,6.99],favorite:["Mexican"],customer:[""],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",schedule:"11 a.m. to 10 p.m. in Dallas area, select areas 7 a.m to 1 a.m.",common_orders:"Mexican food, Pad Thai, Velvet Taco",other_services:"No",fees:"$1.99 to $6.99",typical_meal:"More than $30",time:"30 to 40 minutes",instant_delivery:"No",subscription:"No",disclaimer:""}}],v={instant:"",groceries:"",subscription:"",customer:[],fee:1e4};$(".answerBlock span").click(function(){e($(this))}),$("#zip").keyup(function(){s($(this))}),$("#feeInput").blur(function(){s($(this)),n($(this))}),$(".viewAll").click(function(){$("#servicesBlock nav button").addClass("noShow"),u(h)});var f=0,g=6,b=[],y=[];$(".switcher").on("click",function(){var e=$(this).attr("id");r(e)}),$(document).keypress(function(e){13==e.which&&r("next")}),$(".retake").click(function(){d()})});
//# sourceMappingURL=scripts-bundle.js.map
