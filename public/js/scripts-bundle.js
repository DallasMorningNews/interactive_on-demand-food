$(document).ready(function(){function e(e){e.toggleClass("unchecked").toggleClass("checked"),e.parent().hasClass("boolean")&&e.siblings().removeClass("checked"),t(e)}function s(e){isNaN(e.val())===!0?(e.siblings(".invalid").removeClass("noShow"),e.siblings(".valid").addClass("noShow")):(e.siblings(".invalid").addClass("noShow"),e.siblings(".valid").removeClass("noShow")),"zip"===e.attr("id")&&5!==e.val().length?(e.siblings(".invalid").removeClass("noShow"),e.siblings(".valid").addClass("noShow")):"zip"===e.attr("id")&&5===e.val().length&&(e.siblings(".invalid").addClass("noShow"),e.siblings(".valid").removeClass("noShow"),o(parseInt(e.val()))),""===e.val()&&(e.siblings(".validator").addClass("noShow"),"zip"===e.attr("id")&&$.each(h,function(e,s){s.service_area=!0,a()}),"feeInput"===e.attr("id")&&(v.fee=1e4,t(e)))}function o(e){$.each(h,function(s,o){$.inArray(e,o.zips)===-1?o.service_area=!1:o.service_area=!0}),a()}function a(){$.each(h,function(e,s){var o=0;for(s.instant===v.instant&&o++,s.subscription===v.subscription&&o++,s.more===v.more&&o++,s.fee[1]>v.fee&&o++,i=0;i<s.customer.length;i++)if($.inArray(s.customer[i],v.customer)>-1){o++;break}s.score=o,$("#"+s.id).hasClass("noService")===!1&&$("#"+s.id).children(".highlight").css("width",20*s.score+"%")})}function t(e){var s=e.closest(".question").attr("id");switch(s){case"instant":v.instant=parseInt(e.text());break;case"more":e.closest(".answerBlock").find(".checked").index()===-1?v.more="":v.more="true"===e.closest(".answerBlock").find(".checked").attr("data-answer");break;case"subscription":e.closest(".answerBlock").find(".checked").index()===-1?v.subscription="":v.subscription="true"===e.closest(".answerBlock").find(".checked").attr("data-answer");break;case"fee":isNaN(e.val())===!1&&e.val().length>0&&(v.fee=e.val());break;case"customer":v.customer=[],$.each($("#customer .answerBlock span"),function(){$(this).hasClass("checked")===!0&&v.customer.push($(this).text())});break;default:alert("If you're seeing this message, something horribly wrong has happened.")}a()}function n(e){"next"===e&&f!==b-1?f++:"previous"===e?(f--,$("#questionsNav .viewResults").addClass("noShow")):r(),0===f?$("#previous").addClass("noShow"):$("#previous").removeClass("noShow"),f===b-1&&$(".viewResults").removeClass("noShow"),$(".viewResults").click(function(){r()}),$(".question").addClass("inactiveQuestion"),$(".question").eq(f).removeClass("inactiveQuestion").addClass("activeQuestion"),$("#progressBar").width(f/(b-1)*100+"%")}function r(){y=[],$.each(h,function(e,s){s.service_area===!0&&y.push(s)}),c()}function c(){var e=0;w=[],$.each(y,function(s,o){o.score>e&&(e=o.score)}),$.each(y,function(s,o){o.score>=e&&w.push(o)}),$("#services").removeClass("noShow"),$("#best").removeClass("noShow"),$(".retake").removeClass("noShow"),console.log(w),l(w),0===w.length&&($("#servicesBlock").prepend("<h5>None of the couriers service the zip code you provided.</h5>"),$("#best").addClass("noShow"))}function l(e){$(".service").remove(),console.log(e),e.length<7&&$(".viewAll").removeClass("noShow"),$("#servicesBlock").removeClass("noShow");var s=$("#servicesBlock").offset().top;$("html, body").animate({scrollTop:s-50},250);var o=d3.select("#services").selectAll(".service").data(e).enter().append("div").attr("class","clearFix service");o.append("img").attr("src",function(e){return"images/_"+e.id+".png"}).attr("alt",function(e){return e.name+" logo"}),o.append("a").attr("href",function(e){return e.copy.weburl}).attr("target","_blank").text(function(e){return e.copy.website});var a=o.append("div").attr("class","content clearFix"),t=a.append("div").attr("class","details");t.append("p").html(function(e){return"<span class='label'>Why you should use: </span>"+e.copy.description}),t.append("p").html(function(e){return"<span class='label'>Schedule: </span>"+e.copy.schedule}),t.append("p").html(function(e){return"<span class='label'>Common orders: </span>"+e.copy.common_orders}),t.append("p").html(function(e){return"<span class='label'>Other services: </span>"+e.copy.other_services});var i=a.append("div").attr("class","periphs");i.append("p").html(function(e){return"<span class='label'>Fees: </span>"+e.copy.fees}),i.append("p").html(function(e){return"<span class='label'>Typical meal cost: </span>"+e.copy.typical_meal}),i.append("p").html(function(e){return"<span class='label'>Delivery time: </span>"+e.copy.time}),i.append("p").html(function(e){return"<span class='label'>Instant delivery: </span>"+e.copy.instant_delivery}),i.append("p").html(function(e){return"<span class='label'>Subscription offered: </span>"+e.copy.subscription}),a.append("p").attr("class","disclaimer").text(function(e){var s="";return e.copy.disclaimer.length>0&&(s=e.copy.disclaimer),s}),d()}function d(){if($(window).width()>700){var e=0;console.log($("#questions").height()),$(".service").each(function(){console.log($(this).outerHeight()),e=e>$(this).outerHeight()?e:$(this).outerHeight()}),$(".service").css("min-height",e+30)}}function u(){$.each(h,function(e,s){s.score=0,s.service_area=!0}),$("#servicesBlock").addClass("noShow");var e=$("#questions").offset().top;$("html, body").animate({scrollTop:e-50},250),f=0,$(".question").addClass("inactiveQuestion"),$(".question").eq(f).removeClass("inactiveQuestion").addClass("activeQuestion"),$("#previous").addClass("noShow"),$(".validator").addClass("noShow"),$(".viewResults").addClass("noShow"),$("#progressBar").width(f/(b-1)*100+"%"),$("#zip").val(""),$("#feeInput").val(""),$(".checked").addClass(".unchecked").removeClass("checked"),v.instant="",v.more="",v.subscription="",v.customer=[],v.fee=1e4,console.log(h,v)}var m=new Date,p=m.getFullYear();$(".copyright").text(p),setTimeout(function(){$("#storyHead").addClass("moved")},500);var h=[{id:"uber",name:"Uber Eats",zips:[75202,75201,75226,75204,75207,75219,75230,75214,75206],instant:5,subscription:!1,more:!1,fee:[2.99,3.99],customer:["Fast","Affordable","Easy"],score:0,service_area:!0,copy:{description:"You are all about efficiency, and may already be familiar with apps that get you what you need quickly. Uber Eats offers instant delivery on a limited number of food items. That means you can have your dinner at your door within XXX minutes — so long as you're not a picky eater.",weburl:"https://ubereats.com/dallas/",website:"ubereats.com/dallas",schedule:"UberEATS is available 24/7. Instant delivery is available 11 a.m. to 2 p.m., Monday through Friday.",common_orders:"American, Indian and Thai",other_services:"No",fees:"$2.99 to $3.99",typical_meal:"$8 to $12*",time:"Instant delivery is 10 minutes or less.",instant_delivery:"Yes",subscription:"No",disclaimer:"*Instant meals range from $8 to $12 and can be delivered in 10 minutes or less."}},{id:"caviar",name:"Caviar",zips:[75229],instant:4,subscription:!1,more:!1,fee:[0,4.99],customer:["Gourmet","Upscale","Adventurous"],score:0,service_area:!0,copy:{description:"Even if you are a foodie, you don't always have time to make a gourmet meal and sometimes you feel like staying in. Caviar gives you the option to choose some of the best dishes from your favorite spots, which can add up to a pricier dinner.",weburl:"https://www.trycaviar.com/dallas",website:"trycaviar.com/dallas",schedule:"Everyday, 9 a.m. to 9 p.m.",common_orders:"Neopolitan pizza from Cane Rosso; Ramen from Monkey King Noodle Co.; Comfort food from Dallas Grilled Cheese, and Hot dogs from Luscher's Red Hots",other_services:"No",fees:"$0 to $4.99*",typical_meal:"—",time:"25 to 40 minutes",instant_delivery:"No",subscription:"No",disclaimer:"*Price is dependent on distant from the restaurant"}},{id:"grubhub",name:"GrubHub",zips:[75201,75202,75203,75204,75205,75206,75207,75208,75209,75210,75212,75214,75215,75218,75219,75220,75223,75225,75226,75227,75228,75229,75230,75231,75234,75235,75238,75240,75243,75244,75246,75247,75248,75251,75252,75254,75261,75287],instant:1,subscription:!1,more:!1,fee:[2.99,2.99],customer:["Affordable","Late-Night","Adventurous"],score:0,service_area:!0,copy:{description:"You like ordering and receiving deliveries from your neighborhood restaurants and favorite spots around town.",weburl:"https://www.grubhub.com/",website:"grubhub.com",schedule:"Restaurants choose their hours of operation and delivery",common_orders:"Tex-Mex and Southwest food, especially food from Primo's Tex-Mex",other_services:"No",fees:"$2.99",typical_meal:"About $30",time:"About 40 minutes",instant_delivery:"No",subscription:"No",disclaimer:""}},{id:"favor",name:"Favor",zips:[75201,75202,75204,75205,75206,75246,75219,75226,75225,75214,75209,75235,75207,75208,75230],instant:4,subscription:!1,more:!0,fee:[5,5],customer:["Affordable","Personalized","Upscale"],score:0,service_area:!0,copy:{description:"You like having dinner delivered to your door, but you also like skipping trips to the convenience store for shampoo or other everyday items.",weburl:"https://favordelivery.com/city/dallas/",website:"favordelivery.com",schedule:"Sun. to Wed.: 8 a.m. to midnight; Thur. to Sat.: 8 a.m. to 3 a.m. ",common_orders:"Tacos, sushi and fast-food; Tacos at Velvet Taco and sandwiches from East Hampton",other_services:"Yes. Get anything delivered. It’s literally their motto.",fees:"$5",typical_meal:"About $30",time:"About 35 minutes",instant_delivery:"No",subscription:"No",disclaimer:""}},{id:"postmates",name:"Postmates",zips:[75001,75006,75075,75080,75093,75201,75202,75203,75204,75205,75206,75207,75208,75209,75214,75215,75218,75219,75220,75223,75225,75226,75229,75230,75231,75234,75235,75238,75240,75243,75244,75246,75247,75248,75251,75252,75254,75287],instant:2,subscription:!0,more:!0,fee:[3.99,25],customer:["Personalized","Late-Night","Adventurous"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",weburl:"https://postmates.com/",website:"postmates.com",schedule:"All day, every day",common_orders:"Mexican food, Orders from Chipotle, Whataburger and Raising Cane’s Chicken Fingers",other_services:"Delivery of anything sold in any store.",fees:"$3.99 and up*",typical_meal:"About $25",time:"About 30 minutes",instant_delivery:"No",subscription:"Yes, $9.99/month*",disclaimer:"*Anywhere products start at $6 and increase based on distance, with a cap of $25. Plus merchant deliveries are $3.99."}},{id:"amazon",name:"Amazon Prime Now",zips:[75230],instant:3,subscription:!0,more:!0,fee:[0,7.99],customer:["Easy","Personalized","Affordable"],score:0,service_area:!0,copy:{description:"You like having your entertainment on demand, too.",weburl:"https://primenow.amazon.com/onboard?sourceUrl=%2F",website:"primenow.amazon.com",schedule:"Every day, 8 a.m. to 10 p.m.",common_orders:"Groceries such as water, eggs and orange juice",other_services:"Yes — including groceries from Sprouts.",fees:"$0, $7.99*",typical_meal:"—",time:"—",instant_delivery:"No",subscription:"Yes. $99/year or $10.99/month",disclaimer:"* One-hour delivery is $7.99"}},{id:"doordash",name:"DoorDash",zips:[75001,75002,75006,75007,75010,75013,75019,75022,75023,75024,75025,75028,75033,75034,75035,75038,75039,75040,75041,75042,75044,75048,75050,75051,75052,75054,75056,75057,75060,75061,75062,75063,75067,75068,75069,75070,75071,75074,75075,75077,75078,75080,75081,75082,75093,75094,75099,75201,75202,75203,75204,75205,75206,75207,75208,75209,75210,75211,75212,75214,75215,75216,75218,75219,75220,75223,75224,75225,75226,75227,75228,75229,75230,75231,75234,75235,75237,75238,75240,75241,75242,75243,75244,75246,75247,75248,75251,75252,75254,75261,75270,75275,75287,75390,76001,76002,76006,76010,76011,76012,76013,76014,76015,76016,76017,76018,76021,76022,76034,76036,76039,76040,76051,76053,76054,76060,76063,76092,76102,76103,76104,76105,76106,76107,76108,76109,76110,76111,76112,76114,76115,76116,76117,76118,76119,76120,76123,76126,76127,76129,76132,76133,76134,76137,76140,76148,76155,76177,76180,76182,76226,76227,76244,76248,76262],instant:3,subscription:!1,more:!1,fee:[1.99,6.99],customer:["Upscale","Adventurous","Personalized"],score:0,service_area:!0,copy:{description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam finibus, eros ac rhoncus elementum, augue orci tempor mi, non condimentum neque nunc at turpis.",weburl:"https://www.doordash.com/",website:"doordash.com",schedule:"11 a.m. to 10 p.m. in Dallas area, select areas 7 a.m to 1 a.m.",common_orders:"Mexican food, Pad Thai, Velvet Taco",other_services:"No",fees:"$1.99 to $6.99",typical_meal:"More than $30",time:"30 to 40 minutes",instant_delivery:"No",subscription:"No",disclaimer:""}}],v={instant:"",more:"",subscription:"",customer:[],fee:1e4};$(".answerBlock span").click(function(){e($(this))}),$("#zip").keyup(function(){s($(this))}),$("#feeInput").blur(function(){s($(this)),t($(this))}),$(".viewAll").click(function(){$("#servicesBlock nav button").addClass("noShow"),$("#best").addClass("noShow"),l(h)});var f=0,b=6,y=[],w=[];$(".switcher").on("click",function(){var e=$(this).attr("id");n(e)}),$(document).keypress(function(e){13==e.which&&n("next")}),$(".retake").click(function(){u()})});
//# sourceMappingURL=scripts-bundle.js.map
